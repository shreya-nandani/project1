<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HealX Login Portal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(to right, #F0F4F8, #E0F2FE);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow: hidden;
            position: relative;
        }

        .main-container {
            display: flex;
            width: 100%;
            height: 100vh;
        }

        .image-side {
            background: url('/__fetch__/uploaded:loginpage.png-aa875dbd-34a3-40b1-a3b6-2125a501a1c0');
            background-size: cover;
            background-position: center;
            position: relative;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            text-align: center;
            gap: 2rem;
        }

        .portal-side {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: linear-gradient(45deg, #1C2529, #A1D1B1);
        }

        .login-card {
            background: transparent;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.6);
            border-radius: 1.5rem;
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }
        
        @media (max-width: 768px) {
            .image-side {
                display: none;
            }
        }

        .shine {
            animation: shine-animation 3s infinite, heartbeat-animation 1.5s infinite;
        }
        @keyframes shine-animation {
            0%, 100% {
                text-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #FFD700, 0 0 20px #FFD700;
            }
            50% {
                text-shadow: none;
            }
        }
        @keyframes heartbeat-animation {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }
    </style>
</head>
<body>

    <div class="main-container flex-col md:flex-row">
        <!-- Left third - Image -->
         <img src="loginpage.png" alt=""/>
        <div class="image-side hidden md:flex w-1/3">
        </div>

        <!-- Right two-thirds - Login Portal -->
        <div class="portal-side w-full md:w-2/3 p-4 sm:p-8">
            <!-- HealX Title -->
            <div class="relative z-10 mb-8">
                <h1 class="text-6xl font-black text-yellow-300 mb-2 drop-shadow-lg shine">HealX</h1>
                <p class="text-xl text-white">Helping People</p>
            </div>
            
            <div id="portal-card" class="login-card p-8 sm:p-10 md:p-12 w-full max-w-md mx-auto transform transition-all duration-500 ease-in-out">
                
                <!-- Header and Admin Button -->
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-3xl sm:text-4xl font-bold text-white tracking-tight">Login Portal</h2>
                    <button id="admin-toggle-btn" class="bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded-full shadow-lg transition-colors duration-300">
                        Admin
                    </button>
                </div>
        
                <!-- Login Form -->
                <div id="login-view">
                    <form id="login-form" class="space-y-4">
                        <div>
                            <label for="email" class="block text-sm font-medium text-white mb-1">Email address</label>
                            <input type="email" id="email" name="email" required class="w-full px-4 py-2 bg-white/50 text-gray-900 border border-white/60 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-colors duration-200" placeholder="yourname@example.com">
                        </div>
                        <div>
                            <label for="password" class="block text-sm font-medium text-white mb-1">Password</label>
                            <input type="password" id="password" name="password" required class="w-full px-4 py-2 bg-white/50 text-gray-900 border border-white/60 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-colors duration-200" placeholder="••••••••">
                        </div>
                        <button type="submit" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2.5 rounded-lg shadow-lg transition-colors duration-300">
                            Log in
                        </button>
                    </form>
                    <div class="mt-4 text-center">
                        <a href="#" id="new-account-link" class="text-white hover:text-indigo-200 text-sm font-medium transition-colors duration-300">Add a New Account</a>
                    </div>
                </div>
        
                <!-- Admin Login Form (initially hidden) -->
                <div id="admin-view" class="hidden">
                    <form id="admin-form" class="space-y-4">
                        <div>
                            <label for="admin-pass" class="block text-sm font-medium text-white mb-1">Admin Password</label>
                            <input type="password" id="admin-pass" name="admin-pass" required class="w-full px-4 py-2 bg-white/50 text-gray-900 border border-white/60 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-colors duration-200" placeholder="••••••••">
                        </div>
                        <button type="submit" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2.5 rounded-lg shadow-lg transition-colors duration-300">
                            Admin Log in
                        </button>
                    </form>
                </div>
        
                <!-- Post-login message and New Account view -->
                <div id="post-login-view" class="hidden">
                    <div class="text-center text-white space-y-4">
                        <div id="visit-message" class="text-lg font-semibold"></div>
                        <button id="add-new-account-btn" class="w-full bg-gray-700 hover:bg-gray-600 text-white font-semibold py-2.5 rounded-lg shadow-lg transition-colors duration-300">
                            Add a New Account
                        </button>
                    </div>
                </div>
        
                <!-- Message Box for Alerts (instead of window.alert) -->
                <div id="message-box" class="fixed top-5 left-1/2 -translate-x-1/2 bg-red-600 text-white px-6 py-3 rounded-lg shadow-xl hidden transition-all duration-300 ease-in-out z-50">
                    <span id="message-text"></span>
                </div>
        
            </div>
        </div>
    </div>

    <script>
        const loginView = document.getElementById('login-view');
        const adminView = document.getElementById('admin-view');
        const postLoginView = document.getElementById('post-login-view');
        const loginForm = document.getElementById('login-form');
        const adminForm = document.getElementById('admin-form');
        const adminToggleButton = document.getElementById('admin-toggle-btn');
        const newAccountLink = document.getElementById('new-account-link');
        const addNewAccountBtn = document.getElementById('add-new-account-btn');
        const visitMessage = document.getElementById('visit-message');
        const messageBox = document.getElementById('message-box');
        const messageText = document.getElementById('message-text');

        // Function to show a custom message box
        function showMessage(message, duration = 3000) {
            messageText.textContent = message;
            messageBox.classList.remove('hidden');
            setTimeout(() => {
                messageBox.classList.add('hidden');
            }, duration);
        }

        // Toggle between Login and Admin views
        adminToggleButton.addEventListener('click', () => {
            if (adminView.classList.contains('hidden')) {
                loginView.classList.add('hidden');
                postLoginView.classList.add('hidden');
                adminView.classList.remove('hidden');
                adminToggleButton.textContent = 'User';
            } else {
                adminView.classList.add('hidden');
                loginView.classList.remove('hidden');
                adminToggleButton.textContent = 'Admin';
            }
        });

        // Show "Add New Account" view
        newAccountLink.addEventListener('click', (e) => {
            e.preventDefault();
            showMessage("New account registration is not implemented yet. Please log in.");
        });

        // Event listener for the "Add New Account" button in the post-login view
        addNewAccountBtn.addEventListener('click', () => {
            showMessage("New account creation is not implemented yet.");
        });

        // Handle form submissions
        loginForm.addEventListener('submit', (e) => {
            e.preventDefault();
            // Mock login logic
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;

            // Simple check
            if (email === "test@example.com" && password === "password123") {
                // Determine next visit
                const hasVisit = Math.random() > 0.5; // 50% chance of a visit
                if (hasVisit) {
                    const nextVisitDate = new Date();
                    nextVisitDate.setDate(nextVisitDate.getDate() + 7);
                    visitMessage.innerHTML = `Your next visit is scheduled for:<br><span class="text-indigo-600 font-bold">${nextVisitDate.toDateString()}</span>.`;
                } else {
                    visitMessage.textContent = "No visits are currently scheduled. You are healthy!";
                }
                
                // Show the post-login view
                loginView.classList.add('hidden');
                adminView.classList.add('hidden');
                postLoginView.classList.remove('hidden');
            } else {
                showMessage("Invalid email or password. Please try again.");
            }
        });

        adminForm.addEventListener('submit', (e) => {
            e.preventDefault();
            // Mock admin login logic
            showMessage("Admin login successful. Redirecting to dashboard...");
            // In a real app, this would redirect to an admin dashboard
        });
    </script>
</body>
</html>
